@use "backend" as *;
/* Begin Chat Form */
#{c(chatForm form)} {
	margin-top: 0;
	&::before,&::after {
		content: none;
	}
}
#{c(chatForm followWrapper)} {
	border-width: 0;
	z-index: 0; // messes with member list. set to 1 by discord
	backdrop-filter: blur(calc($blur * 2px));
	#{c(chatForm followImage)} {
		display: none;
	}
	#{c(main visualRefresh)} &,
	& {
		@include card-light;
		border: none;
	}
}

#{c(chatForm channelTextAreaBase)} {
	border-width: 0;
	&:focus-within {
		border-width: 0;
		box-shadow: 0 0 2px 2px var(--profile-primary-color, $primary);
	}
	#{c(main visualRefresh)} &,
	& {
		@include card-light;
		border: none;
	}
}

#{c(chatForm typingBase)} {
	bottom: 1px;
}

#{c(chatForm jumpToPresentBar)} {
	background: $card;
	opacity: 1;
	backdrop-filter: blur(calc($blur * 2px));
}
#{c(chatForm messagesErrorBar)} {
	background: $red;
	opacity: 1;
}
#{c(chatForm scrollableContainer)},
#{c(chatForm themedBackground)},
#{c(chatForm attachedBars)},
#{c(chatForm replyBar)},
#{c(chatForm threadSuggestionBar)} {
	background: transparent;
}
:is(
	#{c(chatForm stackedBars)},
	#{c(chatForm channelAttachmentArea)}
) {
	#{c(main visualRefresh)} &,
	& {
		background: transparent;
	}
}
#{c(chatForm clipContainer)} {
	margin-top: 0;
	padding-top: 0;
}
#{c(chatForm replyBar)},
#{c(chatForm scrollableContainer)} {
	backdrop-filter: blur(calc($blur * 2px));
}
#{c(chatForm scrollableContainer)} {
	max-height: 30vh;
	// margin-bottom: 24px;
}
#{c(chatForm replyContainer)} {
	#{c(chatForm replyName)} {
		color: $primary;
		// text-shadow: 2px 2px calc(var(--blur-intensity,1) * 4px) currentColor;
	}
}
#{c(chatForm replyActions)}>div[class=""] {
	&[aria-checked=false] #{c(chatForm mentionButton)} {
		color: $red !important; // !important reason: inline style
	}
	&[aria-checked=true] #{c(chatForm mentionButton)} {
		color: $green !important; // !important reason: inline style
	}
}
#{c(chatForm textArea)} {
	#{c(chatForm placeholder)} {
		color: var(--interactive-normal);
	}
}
#{c(chatForm inlineUpload)} {
	#{c(main visualRefresh)} &,
	& {
		background: $card;
	}
}
#{c(forums upload altTag)} {
	background: $secondary;
	color: var(--text-normal);
}

#{c(chatForm beforeInlineCode)},
#{c(chatForm inlineCode)},
#{c(chatForm afterInlineCode)} {
	background: $card;
}

// delete gift nitro button. might cock up a few plugins.
// Also remove stupid apps button
#{c(chatForm appsButton)},
#{c(chatForm buttons)} > :is(
	#{c(button)},
	#{c(chatForm xmasGiftButton)}
) {
	display: none;
}

// send button
#{c(chatForm sendButtonActiveChild)} {
	color: var(--color) !important; // !important reason: many rules containing :focus, :focus-within and :hover exist.
}
#{c(chatForm sendButton)} {
	--color: var(--hsl-primary-color);
	&:is(:hover,:active,:focus,:focus-within) {
		--color: var(--hsl-hover-color);
	}
}