@use "backend" as *;
/* Begin Chat Form */
#{c(chatForm form)} {
	&::before,
	&::after {
		content: none;
	}
	&,
	#{c(main alignChatInput)} & {
		margin-top: 0;
	}
}
// due to align chat input thing
#{c(main alignChatInput)} {
	#{c(chat gradient typingAtBottom)} {
		background: none;
	}
}

#{c(chatForm followWrapper)} {
	border-width: 0;
	z-index: 0; // messes with member list. set to 1 by discord
	backdrop-filter: blur(calc($blur * 2px));
	@include card-light;
	border: none;
	#{c(chatForm followImage)} {
		display: none;
	}
}

#{c(chatForm channelTextAreaBase)} {
	border-width: 0;
	@include card-light;
	border: none;
	&:focus-within {
		border-width: 0;
		box-shadow: 0 0 2px 2px var(--profile-primary-color, $primary);
	}
}

#{c(chatForm typingBase)} {
	bottom: 1px;
}

#{c(chatForm jumpToPresentBar)} {
	background: $card;
	opacity: 1;
	backdrop-filter: blur(calc($blur * 2px));
}
#{c(chatForm messagesErrorBar)} {
	background: $red;
	opacity: 1;
}
#{c(chatForm themedBackground)},
#{c(chatForm attachedBars)},
#{c(chatForm stackedBars)},
#{c(chatForm channelAttachmentArea)} {
	background: transparent;
}

#{c(chatForm threadSuggestionBar)},
#{c(chatForm replyBar)},
#{c(chatForm scrollableContainer)} {
	background: transparent;
	backdrop-filter: blur(calc($blur * 2px));
}
@if $lite != 1 {
	#{c(chatForm clipContainer)} {
		margin-top: 0;
		padding-top: 0;
	}
}
#{c(chatForm textArea)} {
	#{c(chatForm placeholder)} {
		color: var(--interactive-normal);
	}
}
@if $lite != 1 {
	#{c(chatForm scrollableContainer)} {
		max-height: 30vh;
	}
	#{c(chatForm replyContainer)} {
		#{c(chatForm replyName)} {
			color: $primary;
		}
	}
	#{c(chatForm replyActions)}>div[class=""] {
		&[aria-checked=false] #{c(chatForm mentionButton)} {
			color: $red !important; // !important reason: inline style
		}
		&[aria-checked=true] #{c(chatForm mentionButton)} {
			color: $green !important; // !important reason: inline style
		}
	}
	#{c(forums upload altTag)} {
		background: $secondary;
		color: var(--text-default);
	}
}
#{c(chatForm inlineUpload)} {
	background: $card;
}

// delete gift nitro button. might cock up a few plugins.
// Also remove stupid apps button
#{c(chatForm appsButton)},
#{c(chatForm buttons)} > #{c(chatForm buttonInner)} {
	display: none;
}

// send button
#{c(chatForm sendButtonActiveChild)} {
	color: var(--__color) !important; // !important reason: many rules containing :focus, :focus-within and :hover exist.
}
#{c(chatForm sendButton)} {
	--__color: var(--hsl-primary-color);
	&:is(
		:hover,
		:active,
		:focus,
		:focus-within
	) {
		--__color: var(--hsl-hover-color);
	}
}