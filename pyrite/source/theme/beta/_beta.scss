@use "backend" as *;
/* Begin Beta Branch */
// Expect it to not work fully.
html[lang="en-GB"],
html[lang="fr"] {
	//test colors lol
	// --green-color: green;
	// --yellow-color: yellow;
	// --red-color: red;
	// --link-color: cyan;
	// --offline-color: white;
}
// HOLY SHIT FUCK SAKE
// this stuff is basically thrown together real quick,
// don't expect it to last forever.
#{c(main visualRefresh)} {
	:is(
		// ensure transparency in theme
		#{c(main appMount)},
		body,
		#{c(main bg)},
		// server list
		#{c(serverList wrapper)},
		// sidebar list
		#{c(sidebar private channels)},
		// server header
		#{c(sidebar server header clickable)},
		#{c(sidebar server header header)},
		// channel user limit
		#{c(sidebar server channel voiceLimitUsers)},
		#{c(sidebar server channel voiceLimitTotal)},
		// sidebar panel
		#{c(sidebar panel panels)},
		// friends page
		#{c(friends tabBody)},
		// chat is this real
		#{c(chat chat)}
	) {
		background: transparent;
	}
	// and card stuff
	:is(
		#{c(sidebar server channel voiceLimitWrapper)}
	) {
		background: $card;
	}
	// and middle stuff
	:is(
		// chat is this real
		#{c(chat chatContentInner)}
	) {
		background: $middle;
	}
	// and header stuff
	:is(
		// top bar thing
		.bar_c38106
	) {
		background: $header;
	}
	// and side stuff
	:is(
		// sidebar channel list
		.sidebarList_c48ade
	) {
		background: $side;
	}

	// some things are different...

	// themed header
	#{c(header header)}#{c(header themed)} {
		background: $middle;
	}

	// remove borders
	:is(
		// sidebar channel list
		.sidebarList_c48ade,
		// private searchbar
		#{c(sidebar private searchBar)},
		// sidebar panel
		#{c(sidebar panel panels)},
		// sidebar panel buttons
		#{c(sidebar panel buttons buttons)},
		// voice channel limit
		#{c(sidebar server channel voiceLimitWrapper)},
		// friends page container
		#{c(friends container)},
		// server header
		#{c(sidebar server header header)},
		// header bar
		#{c(header header)}
	) {
		border: none;
	}
	// remove borders (extra)
	#{c(chat chat)}[data-has-border=true] {
		border: none;
	}

	// remove help button
	.trailing_c38106 #{c(main anchorLink)}[href="https://support.discord.com"] {
		display: none;
	}
	// sidebar background
	#{c(sidebar sidebar)} {
		&::before,
		&::after {
			width: var(--custom-guild-sidebar-width);
		}
	}
	// linux/web server list
	&:is(
		#{c(os linux)},
		#{c(os web)}
	) {
		// ::before and ::after
		#{c(serverList servers)} {
			&::before,
			&::after {
				content: none;
			}
		}
		// list
		#{c(serverList tree)} {
			top: 0;
			height: 100%;
		}
	}
	// server list margin
	#{c(serverList wrapper)} {
		margin-bottom: var(--custom-app-panels-height,0);
	}
	// sidebar channel list
	.sidebarList_c48ade {
		border-radius: 0;
	}
	// private searchbar
	#{c(sidebar private searchBar)} {
		box-sizing: content-box; // revert border-box
	}
	// unset (private) channel scroller width
	#{c(sidebar server scroller)},
	#{c(sidebar private scroller)} {
		width: unset;
	}
	// remove backgroudns
	#{c(sidebar sidebar)} {
		&::before,
		&::after {
			content: none;
		}
	}
	// panels
	#{c(sidebar panel panels)} {
		left: 0;
		bottom: 0;
		width: 100%;
		box-shadow: none;
		&::before {
			content: "";
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			z-index: -1;
			pointer-events: none;
			background: $side;
			width: var(--custom-guild-list-width);
		}
	}
	// server header
	#{c(sidebar server header header)} {
		border-radius: 0;
	}
}

// TODO WITH THE REFRESH:
// Move inbox button down into header bar
// Go back to $header for header bar (et al)
// Fix notices
// a whole host of other unthemed areas