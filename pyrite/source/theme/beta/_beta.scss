@use "backend" as *;
/* Begin Beta Branch */
// Expect it to not work fully.
html[lang="en-GB"],
html[lang="fr"] {
	//test colors lol
	// --green-color: green;
	// --yellow-color: yellow;
	// --red-color: red;
	// --link-color: cyan;
	// --offline-color: white;
}
// HOLY SHIT FUCK SAKE
// this stuff is basically thrown together real quick,
// don't expect it to last forever.
#{c(main visualRefresh)} {
	:is(
		// ensure transparency in theme
		#{c(main appMount)},
		body,
		#{c(main bg)},
		// server list
		#{c(serverList wrapper)},
		// sidebar channel list
		.sidebarList_c48ade
		// sidebar list
		#{c(sidebar private channels)},
		// server header
		#{c(sidebar server header header)},
		// channel user limit
		#{c(sidebar server channel voiceLimitUsers)},
		#{c(sidebar server channel voiceLimitTotal)},
		// friends page
		#{c(friends tabBody)},
		// chat is this real
		#{c(chat chat)}
	) {
		background: transparent;
	}
	// and card stuff
	:is(
		// voice limit
		#{c(sidebar server channel voiceLimitWrapper)},
		// chat divider
		#{c(chat dividerContent)},
		// embeds
		#{c(embeds embedFull)},
		// poll
		#{c(embeds poll container)}
	) {
		background: $card;
	}
	// and middle stuff
	:is(
		// chat is this real
		#{c(chat chatContentInner)}
	) {
		background: $middle;
	}
	// and header stuff
	:is(
		// top bar thing
		.bar_c38106,
		// server header
		#{c(sidebar server header clickable)},
		// private channel header
		#{c(sidebar private searchBar)}
	) {
		background: $header;
	}
	// and side stuff
	:is(
		// sidebar panel
		#{c(sidebar panel panels)},
		// sidebar server
		#{c(sidebar server scroller)},
		// private channels scrollbar
		#{c(sidebar private scroller)}
	) {
		background: $side;
	}

	// some things are different...

	// themed header
	#{c(header header)}#{c(header themed)} {
		background: $header;
	}

	// remove borders
	:is(
		// sidebar channel list
		.sidebarList_c48ade,
		// private searchbar
		#{c(sidebar private searchBar)},
		// sidebar panel
		#{c(sidebar panel panels)},
		// sidebar panel buttons
		#{c(sidebar panel buttons buttons)},
		// voice channel limit
		#{c(sidebar server channel voiceLimitWrapper)},
		// friends page container
		#{c(friends container)},
		// server header
		#{c(sidebar server header header)},
		// header bar
		#{c(header header)}
	) {
		border: none;
	}
	// remove borders (extra)
	#{c(chat chat)}[data-has-border=true] {
		border: none;
	}

	// add back borders
	// :is(
	//
	// ) {
	// 	border-color: $primary;
	// }
	:is(
		// poll container
		#{c(embeds poll container)}
	) {
		border-color: $secondary;
	}

	// border radius == 0
	:is(
		// sidebar channel list
		.sidebarList_c48ade,
		// panel
		#{c(sidebar panel panels)}
	) {
		border-radius: 0;
	}

	// remove help button
	.trailing_c38106 #{c(main anchorLink)}[href="https://support.discord.com"] {
		display: none;
	}
	// windows stuff
	&#{c(os win platform)} {
		// fix server list
		#{c(serverList servers)} {
			margin-top: 0;
			&::before,
			&::after {
				content: none;
			}
		}
		// window buttons aren't there anymore
		#{c(header toolbar)} {
			padding-right: unset;
			margin-right: unset;
		}
	}
	// linux/web stuff
	&:is(
		#{c(os linux)},
		#{c(os web)}
	) {
		// ::before and ::after
		#{c(serverList servers)} {
			&::before,
			&::after {
				content: none;
			}
		}
		// list
		#{c(serverList tree)} {
			top: 0;
			height: 100%;
		}
	}
	// dms scroller margin
	#{c(sidebar private scroller)},
	// server list margin
	#{c(serverList wrapper)} {
		margin-bottom: var(--custom-app-panels-height,0);
	}
	// channel list margins
	#{c(sidebar server scroller)} {
		margin-bottom: 0;
		margin-right: 0;
	}
	// private searchbar
	#{c(sidebar private searchBar)} {
		box-sizing: content-box; // revert border-box
	}
	// unset (private) channel scroller width
	#{c(sidebar server scroller)},
	#{c(sidebar private scroller)} {
		width: unset;
	}
	// remove backgroudns
	#{c(sidebar sidebar)} {
		&::before,
		&::after {
			content: none;
		}
	}
	// panels
	#{c(sidebar panel panels)} {
		left: 0;
		bottom: 0;
		width: 100%;
		box-shadow: none;
	}
	// server header
	#{c(sidebar server header header)} {
		border-radius: 0;
	}
}

// TODO WITH THE REFRESH:
// Move inbox button down into header bar
// Fix notices
// a whole host of other unthemed areas